from datetime import datetime

html = f"""
<html>
  <body style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
    <h2 style="color: #2E86C1;">üìä Weekly Security Posture Report ‚Äì {datetime.now().strftime('%d %b %Y')}</h2>

    <!-- Exploitability Exposure -->
    <h3 style="color: #1F618D;">üîç Exploitability Exposure</h3>
    <table cellpadding="6" cellspacing="0" width="100%" style="border-collapse: collapse; table-layout: fixed;">
      <tr style="background-color: #f2f2f2;">
        <th style="width: 70%; text-align: left;">Metric</th>
        <th style="width: 30%; text-align: left;">Value</th>
      </tr>
      <tr>
        <td style="width: 70%;">Confirmed Active Exploits</td>
        <td style="width: 30%;">4 / 23</td>
      </tr>
      <tr style="background-color: #f9f9f9;">
        <td style="width: 70%;">Known Exploits Available</td>
        <td style="width: 30%;">7 / 23</td>
      </tr>
    </table>

    <!-- Critical Risk Indicators -->
    <h3 style="color: #C0392B;">üö® Critical Risk Indicators</h3>
    <table cellpadding="6" cellspacing="0" width="100%" style="border-collapse: collapse; table-layout: fixed;">
      <tr style="background-color: #f2f2f2;">
        <th style="width: 70%; text-align: left;">Metric</th>
        <th style="width: 30%; text-align: left;">Value</th>
      </tr>
      <tr>
        <td style="width: 70%;">Critical Severity Vulnerabilities</td>
        <td style="width: 30%;">2 / 23</td>
      </tr>
      <tr style="background-color: #f9f9f9;">
        <td style="width: 70%;">High Severity Vulnerabilities</td>
        <td style="width: 30%;">5 / 23</td>
      </tr>
    </table>

    <!-- CVE Exposure Timeline -->
    <h3 style="color: #884EA0;">‚è≥ CVE Exposure Timeline</h3>
    <table cellpadding="6" cellspacing="0" width="100%" style="border-collapse: collapse; table-layout: fixed;">
      <tr style="background-color: #f2f2f2;">
        <th style="width: 70%; text-align: left;">Metric</th>
        <th style="width: 30%; text-align: left;">Value</th>
      </tr>
      <tr>
        <td style="width: 70%;">CVEs Past Remediation Deadline</td>
        <td style="width: 30%;">3 / 10</td>
      </tr>
      <tr style="background-color: #f9f9f9;">
        <td style="width: 70%;">CVEs Approaching Due Date (30 Days)</td>
        <td style="width: 30%;">6 / 10</td>
      </tr>
    </table>

    <!-- Alerts & Container Changes -->
    <h3 style="color: #CA6F1E;">‚ö†Ô∏è Alerts & Container Changes</h3>
    <table cellpadding="6" cellspacing="0" width="100%" style="border-collapse: collapse; table-layout: fixed;">
      <tr style="background-color: #f2f2f2;">
        <th style="width: 70%; text-align: left;">Missing Containers</th>
        <th style="width: 30%; text-align: left;">New Containers</th>
      </tr>
      <tr>
        <td style="width: 70%;">auth-service at prod</td>
        <td style="width: 30%;">billing-api at staging</td>
      </tr>
      <tr style="background-color: #f9f9f9;">
        <td style="width: 70%;">db-replica at dev</td>
        <td style="width: 30%;">reporter at qa</td>
      </tr>
    </table>

    <!-- Component Upgrade Summary -->
    <h3 style="color: #196F3D;">‚¨ÜÔ∏è Component Upgrade Summary</h3>
    <table cellpadding="6" cellspacing="0" width="100%" style="border-collapse: collapse; table-layout: fixed;">
      <tr style="background-color: #f2f2f2;">
        <th style="width: 40%; text-align: left;">Component</th>
        <th style="width: 30%; text-align: left;">From Version</th>
        <th style="width: 30%; text-align: left;">To Version</th>
      </tr>
      <tr>
        <td style="width: 40%;">nginx</td>
        <td style="width: 30%;">1.21</td>
        <td style="width: 30%;">1.23</td>
      </tr>
      <tr style="background-color: #f9f9f9;">
        <td style="width: 40%;">redis</td>
        <td style="width: 30%;">6.2.1</td>
        <td style="width: 30%;">7.0.0</td>
      </tr>
      <tr>
        <td style="width: 40%;">openssl</td>
        <td style="width: 30%;">1.1.1k</td>
        <td style="width: 30%;">1.1.1w</td>
      </tr>
    </table>

    <!-- Footer -->
    <p style="margin-top: 30px; font-size: 12px; color: #999;">
      This is an automated security posture summary. For detailed analysis, contact your DevSecOps team.
    </p>
  </body>
</html>
"""
